(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{UqlH:function(e,t,a){"use strict";a.r(t);a("En0F");var n=a("bSEc"),r=(a("G3dO"),a("a9eq")),s=(a("BZHA"),a("i4rf")),l=(a("w7Za"),a("nKbL")),i=(a("Vumi"),a("w8AX")),o=a("q1tI"),d=a.n(o),u=a("WXbf"),c=(a("rZAD"),a("r307")),m=a("jehZ"),p=a.n(m),h=(a("e1sI"),a("WACH")),y=n["a"].Item;class E extends o["Component"]{constructor(e){super(e),this.showModalHandler=(e=>{e&&e.stopPropagation(),this.setState({visible:!0})}),this.hideModelHandler=(()=>{this.setState({visible:!1,destroy:!0})}),this.okHandler=(()=>{var e=this.props.onOk;this.props.form.validateFields((t,a)=>{t||(e(a),this.hideModelHandler())})}),this.state={visible:!1,destroy:!1}}render(){var e=this.props,t=e.children,a=e.title,r=this.props.form.getFieldDecorator,s=this.props.record,l=s.menuName,i=s.menuCode,o=s.route,u={labelCol:{span:6},wrapperCol:{span:14}};return d.a.createElement("span",null,d.a.createElement("span",{onClick:this.showModalHandler},t),d.a.createElement(c["a"],{title:a,visible:this.state.visible,destroyOnClose:this.state.destroy,onOk:this.okHandler,onCancel:this.hideModelHandler},d.a.createElement(n["a"],{onSubmit:this.okHandler},d.a.createElement(y,p()({},u,{label:"\u83dc\u5355\u540d\u79f0"}),r("menuName",{rules:[{required:!0}],initialValue:l})(d.a.createElement(h["a"],null))),d.a.createElement(y,p()({},u,{label:"\u83dc\u5355\u7f16\u7801"}),r("menuCode",{rules:[{required:!0}],initialValue:i})(d.a.createElement(h["a"],null))),d.a.createElement(y,p()({},u,{label:"\u8def\u7531"}),r("route",{rules:[{required:!0}],initialValue:o})(d.a.createElement(h["a"],null))))))}}var k=n["a"].create()(E),b=a("jo1r"),M=a.n(b);class v extends o["Component"]{constructor(){super(...arguments),this.columns=[{title:"\u83dc\u5355\u540d\u79f0",dataIndex:"menuName",key:"menuName"},{title:"\u83dc\u5355\u7f16\u7801",dataIndex:"menuCode",key:"menuCode"},{title:"\u8def\u7531",dataIndex:"route",key:"route"},{title:"\u64cd\u4f5c",key:"action",render:(e,t)=>d.a.createElement("span",null,d.a.createElement(k,{record:t,onOk:this.editMenu.bind(null,t.key),title:"\u7f16\u8f91\u83dc\u5355"},d.a.createElement("a",null,"\u7f16\u8f91")),d.a.createElement(i["a"],{type:"vertical"}),d.a.createElement(l["a"],{title:"\u786e\u8ba4\u5220\u9664",onConfirm:()=>this.deleteMenu(t.key)},d.a.createElement("a",null,"\u5220\u9664")))}],this.addMenu=(e=>{this.props.dispatch({type:"menus/addMenu",payload:e})}),this.editMenu=((e,t)=>{this.props.dispatch({type:"menus/editMenu",payload:{key:e,values:t}})}),this.deleteMenu=(e=>{this.props.dispatch({type:"menus/deleteMenu",payload:{key:e}})})}componentDidMount(){this.props.dispatch({type:"menus/queryMenu"})}render(){var e=this.props,t=e.menusList,a=e.menusLoading;return console.log(this.props),d.a.createElement("div",null,d.a.createElement("div",{className:M.a.create},d.a.createElement(k,{record:{},onOk:this.addMenu,title:"\u6dfb\u52a0\u83dc\u5355"},d.a.createElement(s["a"],{type:"primary"},"\u65b0\u589e"))),d.a.createElement(r["a"],{columns:this.columns,dataSource:t,loading:a}))}}function C(e){return{menusList:e.menus.menusList,menusLoading:e.loading.effects["menus/queryMenu"]}}t["default"]=Object(u["connect"])(C)(n["a"].create()(v))},jo1r:function(e,t,a){e.exports={operation:"operation___3xwdV",create:"create___21oG6"}}}]);